<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
</head>

<body>
<h1>Nano-Nano Installation</h1>
<p>A little background on the Arduino project to start with. For a long time I was convinced that we could do with a Raspberry system in all situations: The Raspberry was a perfect workhorse to do database pocessing and other compute intensive stuff and it would run a standard version of Linux. And because of its low price of around 35 Euro for the Raspberry version 2, who would be looking for any other system to build a Home Automation (HA) system.</p>
<p><a href="images/board_01.jpg"><img src="images/board_01.jpg" width="600" height="450" hspace="5" vspace="5" /></a><a href="images/board_02.jpg"><img src="images/board_02.jpg" width="600" height="450" hspace="5" vspace="5" /><br />
  <br />
</a>However, it turns out that the Raspberry does have some trouble with interrupt intensive loads and it's timing is not accurate enough to provide real-time like experience especially for smort messages. Also, the price of a lean-and-mean Arduino is just 2.50 Euro for an Arduino model Nano. So why not use that system as a gateway handling all transmitter/receiver interrupts? And it's timing is far better....</p>
<p>So I decided to buy myself 2 of these Arduino Nano machines and connect hem to my LamPI system as an alternative to direct connected transmitter/receiver parts. It turns out the even with the cheapest transmitter/receiver pair connected (we're talking about sub 1 Euro for a pair) the Arduino does better than the Raspberry in almost every situation.</p>
<p>Here is two photos of my Arduino Nano when it arrived at my home...</p>
<h2>Arrival</h2>
<p>The Arduino Nano, ordered on eBay for $2.55 arrived within a week in our mailbox. As I ordered the Arduino without any other cables, power supply etc. the package was only small. The Arduino was packaged in an anti-static bag which told me to be careful with the device as long as it was not connected to any PC or other device with grounding.</p>
<p><img src="images/arduino_delivered_2.jpg" width="884" height="434" /></p>
<p>As you can see, I had some soldering to do in order to get the system ready for inclusion in my LamPI home automation system.</p>
<p>https://www.arduino.cc/en/Main/arduinoBoardNano</p>
<p>&nbsp;</p>
<h2>Uno Arduino Per Favore
</h2>
<p>After having such good experience with the Nano I bought a Uno. Actually, since I do not need the very small form factor of the Nano, maybe I like the Uno even better. It has enough space to connect transmitters and receiveds in the middle of the board, especially when you use a prototype board.</p>
<p>I paid 4.29 Euro for an Uno with an USB cable and 2.32 Euro for a prototyping shield with a mini breadboard. So 6.61 Euro for the whole thing which is cheap given what you got.</p>
<p>Only you need to change the settings in the IDE so that the Uno is recognized instead of the Nano. I do recommend not to solder the connectors under the Uno, this saves space and allows the Uno to be placed stable with its transmitters/receivers/sensors on almost any surface (mind the scratches resulting from sharp soldering pins on the bottom though).</p>
<h2>Connecting Uno Nano</h2>
<p>First of all, assuming you do development on your PC like I do, make sure you download the Windows developer environment for the Arduino and install it on your PC. There is a good tutorial available on:</p>
<ul>
  <li>https://www.arduino.cc/en/guide/windows</li>
  <li>https://www.arduino.cc/en/Main/Software</li>
</ul>
<p>Follow the description, download the software, install it and read on ...</p>
<h2>Hello World</h2>
<p>In order to download te LamPI firmware on your Arduino we first need to make sure that your Arduino is connected to the PC correctly. Th Arduino documentation decribes a very simple process and the small sketch &quot;blink&quot; will tell you that the Arduino is connected correctly and ready.</p>
<h2>Connect 433 Transmitter/Receiver</h2>
<p>In order to use the Arduino as a 433MHz gateway you need to connect your transmitter and/or receiver hardware to the Arduino system. This is a simple and straightforward process. The received needs to be connected to power (5V and GND) and the data&nbsp;pin to D2 (pin Digital 2). The transmitter needs to be connected to D8.</p>
<p>The library contains several functions and the example sketches &quot;Transceiver433&quot; and &quot;Sensor433&quot; are ready for you.</p>
<h2>More serious - Firmware</h2>
<p>In order to use the Arduino as a LamPI gateway, you need at least the following components:</p>
<p>- Arduino Nano plus development environment (to load the firmware)<br />
- A PC system (or if you want your Raspberry) to do the firmware loading<br />
- The firmware from Gitbub: http://www.github.com/platenspeler choose Arduino Gateway<br />
<br />
  - Your Raspberry machine</p>
<p>Download the Arduino firmware and unpack the file in the Arduino library. By default this is in&nbsp;the&nbsp;arduino directory that is created for every library user in his own home directory. Restart you Arduino and restart the development environment on your PC. If you now choose &lt;FILE&gt;&lt;EXAMPLES&gt; than the LamPI library should show up on the bottom of the list.</p>
<p>Now select &lt;LamPI&gt; library and then &lt;Transceiver433&gt;. Click on the top of your page on the right arrow to compile the file and send it to your Arduino.</p>
<h2>Test the Arduino installation</h2>
<p>Start the &quot;Srial Monitor&quot; on the IDE&nbsp;and set its baudrate to 115200 and the mode &quot;Newline&quot;</p>
<h2>Message Format</h2>
<p>The message format of messages exchanged between the Raspberry and the Arduino is defined <a href="../../Arduino-Repeater/gatewayMsgFormat.html">on the following page(s)</a>. Because the Arduino is very limited in memory, the messages exchanged are integer encoded and therefore rather simple.</p>
<p>If there is any more descriptive messaging needed, we do it on the host side and can make an interface like the Serial Monitor to interface the Arduino especially for LamPI.</p>
<h2>Testing performance</h2>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>
</html>
